{"version":3,"sources":["webpack://root/./node_modules/nodelist-foreach-polyfill/index.js","webpack://root/./packages/makeup-exit-emitter/index.js","webpack://root/./packages/makeup-exit-emitter/node_modules/custom-event/index.js","webpack://root/./packages/makeup-next-id/index.js","webpack://root/./packages/makeup-next-id/node_modules/nanoid/non-secure/index.js","webpack://root/webpack/bootstrap","webpack://root/webpack/runtime/global","webpack://root/./docs/makeup-exit-emitter/index.compiled.js"],"names":["window","NodeList","prototype","forEach","callback","thisArg","i","this","length","call","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","CustomEvent","nextID","focusExitEmitters","doFocusExit","el","fromElement","toElement","dispatchEvent","detail","bubbles","onDocumentFocusIn","e","newFocusElement","contains","currentFocusElement","removeEventListener","onWindowBlurListener","document","onDocumentFocusInListener","onWindowBlur","undefined","onWidgetFocusIn","addEventListener","FocusExitEmitter","instance","Constructor","TypeError","_classCallCheck","onWidgetFocusInListener","bind","protoProps","value","module","exports","addFocusExit","exitEmitter","id","removeFocusExit","removeEventListeners","NativeCustomEvent","g","p","foo","type","useNative","createEvent","params","initCustomEvent","cancelable","createEventObject","Boolean","nanoid","sequenceMap","randomPortion","prefix","arguments","separator","concat","setAttribute","url","toString","toUpperCase","size","Math","random","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","Function","ExitEmitter","querySelectorAll","classList","add","remove"],"mappings":"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","file":"makeup-exit-emitter/index.min.js","sourcesContent":["if (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}\r\n","'use strict'; // requires CustomEvent polyfill for IE\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar CustomEvent = require('custom-event');\n\nvar nextID = require('makeup-next-id');\n\nvar focusExitEmitters = {};\n\nfunction doFocusExit(el, fromElement, toElement) {\n  el.dispatchEvent(new CustomEvent('focusExit', {\n    detail: {\n      fromElement: fromElement,\n      toElement: toElement\n    },\n    bubbles: false // mirror the native mouseleave event\n\n  }));\n}\n\nfunction onDocumentFocusIn(e) {\n  var newFocusElement = e.target;\n  var targetIsDescendant = this.el.contains(newFocusElement); // if focus has moved to a focusable descendant\n\n  if (targetIsDescendant === true) {\n    // set the target as the currently focussed element\n    this.currentFocusElement = newFocusElement;\n  } else {\n    // else focus has not gone to a focusable descendant\n    window.removeEventListener('blur', this.onWindowBlurListener);\n    document.removeEventListener('focusin', this.onDocumentFocusInListener);\n    doFocusExit(this.el, this.currentFocusElement, newFocusElement);\n    this.currentFocusElement = null;\n  }\n}\n\nfunction onWindowBlur() {\n  doFocusExit(this.el, this.currentFocusElement, undefined);\n}\n\nfunction onWidgetFocusIn() {\n  // listen for focus moving to anywhere in document\n  // note that mouse click on buttons, checkboxes and radios does not trigger focus events in all browsers!\n  document.addEventListener('focusin', this.onDocumentFocusInListener); // listen for focus leaving the window\n\n  window.addEventListener('blur', this.onWindowBlurListener);\n}\n\nvar FocusExitEmitter = /*#__PURE__*/function () {\n  function FocusExitEmitter(el) {\n    _classCallCheck(this, FocusExitEmitter);\n\n    this.el = el;\n    this.currentFocusElement = null;\n    this.onWidgetFocusInListener = onWidgetFocusIn.bind(this);\n    this.onDocumentFocusInListener = onDocumentFocusIn.bind(this);\n    this.onWindowBlurListener = onWindowBlur.bind(this);\n    this.el.addEventListener('focusin', this.onWidgetFocusInListener);\n  }\n\n  _createClass(FocusExitEmitter, [{\n    key: \"removeEventListeners\",\n    value: function removeEventListeners() {\n      window.removeEventListener('blur', this.onWindowBlurListener);\n      document.removeEventListener('focusin', this.onDocumentFocusInListener);\n      this.el.removeEventListener('focusin', this.onWidgetFocusInListener);\n    }\n  }]);\n\n  return FocusExitEmitter;\n}();\n\nfunction addFocusExit(el) {\n  var exitEmitter = null;\n  nextID(el);\n\n  if (!focusExitEmitters[el.id]) {\n    exitEmitter = new FocusExitEmitter(el);\n    focusExitEmitters[el.id] = exitEmitter;\n  }\n\n  return exitEmitter;\n}\n\nfunction removeFocusExit(el) {\n  var exitEmitter = focusExitEmitters[el.id];\n\n  if (exitEmitter) {\n    exitEmitter.removeEventListeners();\n    delete focusExitEmitters[el.id];\n  }\n}\n\nmodule.exports = {\n  addFocusExit: addFocusExit,\n  removeFocusExit: removeFocusExit\n};\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar nanoid = require('nanoid/non-secure');\n\nvar sequenceMap = {};\nvar defaultPrefix = 'nid';\nvar randomPortion = nanoid(3);\n\nmodule.exports = function (el) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultPrefix;\n  var separator = prefix === '' ? '' : '-'; // join first prefix with random portion to create key\n\n  var key = \"\".concat(prefix).concat(separator).concat(randomPortion); // initialise key in sequence map if necessary\n\n  sequenceMap[key] = sequenceMap[key] || 0;\n\n  if (!el.id) {\n    el.setAttribute('id', \"\".concat(key, \"-\").concat(sequenceMap[key]++));\n  }\n\n  return el.id;\n};\n","// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 0–9 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\n/**\n * Generate URL-friendly unique ID. This method use non-secure predictable\n * random generator with bigger collision probability.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid/non-secure')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nonSecure\n * @function\n */\nmodule.exports = function (size) {\n  var id = ''\n  i = size || 21\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // `| 0` is compact and faster alternative for `Math.floor()`\n    id += url[Math.random() * 64 | 0]\n  }\n  return id\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","\"use strict\";\n\n// requires NodeList.forEach polyfill for IE\n// conditional check due to https://github.com/imagitama/nodelist-foreach-polyfill/issues/7\nif (typeof window !== 'undefined') {\n  require('nodelist-foreach-polyfill');\n}\n\nvar ExitEmitter = require('../../packages/makeup-exit-emitter');\n\ndocument.querySelectorAll('.widget').forEach(function (el) {\n  ExitEmitter.addFocusExit(el);\n  el.addEventListener('focusin', function () {\n    this.classList.add('focusin');\n  });\n  el.addEventListener('focusExit', function () {\n    this.classList.remove('focusin');\n  });\n});"],"sourceRoot":""}